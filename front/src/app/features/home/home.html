<nav class="navbar">
  <div class="logo">YourCarYourWay</div>

  <div class="user-section">
    @if (authService.currentUser$ | async; as user) {
      <div class="user-info">
        <span class="user-name">{{ user.firstName }}</span>
        <span class="role-badge">{{ user.role === 'ROLE_USER' ? 'Client' : 'Agent' }}</span>
      </div>
      
      <button (click)="onLogout()" class="logout-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
        D√©connexion
      </button>
    }
  </div>
</nav>

<main class="main-content">
  @if (authService.currentUser$ | async; as user) {
    <div class="hub-wrapper">
      <div class="services-grid">
        <div class="service-card primary" routerLink="/chat">
          <div class="card-icon">
            <span class="icon-bg">üí¨</span>
            @if (user.role === 'ROLE_AGENT') { <span class="notification-dot">3</span> }
          </div>
          <div class="card-body">
            <h3>Chat</h3>
            <p>Acc√©dez √† l'interface de messagerie instantan√©e pour {{ user.role === 'ROLE_AGENT' ? 'aider nos clients' : '√©changer avec un agent' }}.</p>
          </div>
          <div class="card-footer">
            <span class="action-text">Ouvrir l'interface</span>
            <span class="arrow">‚Üí</span>
          </div>
        </div>

        <div class="service-card disabled">
          <div class="card-icon"><span class="icon-bg">‚úâÔ∏è</span></div>
          <div class="card-body">
            <h3>Fomulaire de contact</h3>
            <p>Envoyez des documents ou des demandes complexes par formulaire.</p>
          </div>
          <div class="card-footer">
            <span class="status-label">Indisponible</span>
          </div>
        </div>

        <div class="service-card disabled">
          <div class="card-icon"><span class="icon-bg">üìπ</span></div>
          <div class="card-body">
            <h3>Assistance Visio</h3>
            <p>Besoin de montrer un d√©g√¢t sur un v√©hicule ? Lancez un appel vid√©o.</p>
          </div>
          <div class="card-footer">
            <span class="status-label">Indisponible</span>
          </div>
        </div>

      </div>
    </div>
  }
</main>